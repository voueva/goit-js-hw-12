{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst key = '49650376-6654a0e8c93b5d9da070a04be';\nconst orientation = 'horizontal';\nconst safesearch = 'true';\nconst image_type = 'photo';\nexport const per_page = 15;\n\nexport function getImageList(q, page) {\n    const url = `https://pixabay.com/api/?key=${key}&q=${q}&image_type=${image_type}&orientation=${orientation}&safesearch=${safesearch}&page=${page}&per_page=${per_page}`;\n    return axios.get(url);\n}\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst galleryList = document.querySelector('.gallery');\nconst loadButton = document.querySelector('.load-button');\nconst loader = document.querySelector('.loader');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\nexport function createGallery(images) { \n    const galleryMarkup = images.map(({ previewURL, largeImageURL, likes, views, comments, downloads }) => `\n        <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <img class=\"gallery-image\" src=\"${previewURL}\" />\n            </a>\n            <div class=\"gallery-image-panel\">\n                <div class=\"gallery-image-panel_item\">\n                    <div class=\"gallery-image-panel_item-field\">Likes</div>\n                    <div class=\"gallery-image-panel_item-value\">${likes}</div>\n                </div>\n                <div class=\"gallery-image-panel_item\">\n                    <div class=\"gallery-image-panel_item-field\">Views</div>\n                    <div class=\"gallery-image-panel_item-value\">${views}</div>\n                </div>\n                <div class=\"gallery-image-panel_item\">\n                    <div class=\"gallery-image-panel_item-field\">Comments</div>\n                    <div class=\"gallery-image-panel_item-value\">${comments}</div>\n                </div>\n                <div class=\"gallery-image-panel_item\">\n                    <div class=\"gallery-image-panel_item-field\">Downloads</div>\n                    <div class=\"gallery-image-panel_item-value\">${downloads}</div>\n                </div>\n            </div>\n        </li>\n    `).join('');\n\n    galleryList.insertAdjacentHTML('beforeend', galleryMarkup);\n    lightbox.refresh();\n}\n\nexport function clearGallery() {\n    galleryList.innerHTML = '';\n }\n\nexport function showLoader() { \n    loader.style.display = 'block';\n}\n\nexport function hideLoader() { \n    loader.style.display = 'none';\n}\n\nexport function showLoadMoreButton() { \n    loadButton.style.display = 'block';\n}\n\nexport function hideLoadMoreButton() { \n    loadButton.style.display = 'none';\n}\n\nexport function scrollBy() {\n    const { height: cardHeight } = document.querySelector('.gallery-item').getBoundingClientRect();\n    window.scrollBy({ top: cardHeight * 2, behavior: 'smooth' });\n}","\n\nimport { getImageList, per_page } from './js/pixabay-api'\nimport { createGallery, clearGallery, showLoader, hideLoader, showLoadMoreButton, hideLoadMoreButton, scrollBy } from './js/render-functions'\n\nconst searchInput = document.querySelector('#searchInput');\nconst searchButton = document.querySelector('#searchButton');\nconst loadButton = document.querySelector('.load-button');\n\nlet currentPage = 1;\nlet currentQuery = '';\n\nasync function showImages(currentQuery, currentPage) {\n    const res = await getImageList(currentQuery, currentPage);\n    createGallery(res.data.hits);\n\n    if (res.data.total > currentPage * per_page) {\n        showLoadMoreButton();\n    }\n    \n    hideLoader();\n}\n\nsearchButton.addEventListener('click', async () => {\n    showLoader();\n    \n    clearGallery();\n    const q = searchInput.value.trim().replace(' ', '+');\n    currentQuery = q;\n    currentPage = 1;\n\n    await showImages(currentQuery, currentPage);\n    scrollBy();\n});\n\nloadButton.addEventListener('click', async () => {\n    hideLoadMoreButton();\n    showLoader();\n\n    currentPage++;\n\n    await showImages(currentQuery, currentPage);\n    scrollBy();\n});\n"],"names":["key","orientation","safesearch","image_type","per_page","getImageList","q","page","url","axios","galleryList","loadButton","loader","lightbox","SimpleLightbox","createGallery","images","galleryMarkup","previewURL","largeImageURL","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","showLoadMoreButton","hideLoadMoreButton","scrollBy","cardHeight","searchInput","searchButton","currentPage","currentQuery","showImages","res"],"mappings":"6vBAEA,MAAMA,EAAM,qCACNC,EAAc,aACdC,EAAa,OACbC,EAAa,QACNC,EAAW,GAEjB,SAASC,EAAaC,EAAGC,EAAM,CAClC,MAAMC,EAAM,gCAAgCR,CAAG,MAAMM,CAAC,eAAeH,CAAU,gBAAgBF,CAAW,eAAeC,CAAU,SAASK,CAAI,aAAaH,CAAQ,GACrK,OAAOK,EAAM,IAAID,CAAG,CACxB,CCRA,MAAME,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAClB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAAgBD,EAAO,IAAI,CAAC,CAAE,WAAAE,EAAY,cAAAC,EAAe,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA;AAAA,4CAE/DJ,CAAa;AAAA,kDACPD,CAAU;AAAA;AAAA;AAAA;AAAA;AAAA,kEAKME,CAAK;AAAA;AAAA;AAAA;AAAA,kEAILC,CAAK;AAAA;AAAA;AAAA;AAAA,kEAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,kEAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,KAItE,EAAE,KAAK,EAAE,EAEVb,EAAY,mBAAmB,YAAaO,CAAa,EACzDJ,EAAS,QAAO,CACpB,CAEO,SAASW,GAAe,CAC3Bd,EAAY,UAAY,EAC1B,CAEK,SAASe,GAAa,CACzBb,EAAO,MAAM,QAAU,OAC3B,CAEO,SAASc,GAAa,CACzBd,EAAO,MAAM,QAAU,MAC3B,CAEO,SAASe,GAAqB,CACjChB,EAAW,MAAM,QAAU,OAC/B,CAEO,SAASiB,GAAqB,CACjCjB,EAAW,MAAM,QAAU,MAC/B,CAEO,SAASkB,GAAW,CACvB,KAAM,CAAE,OAAQC,GAAe,SAAS,cAAc,eAAe,EAAE,wBACvE,OAAO,SAAS,CAAE,IAAKA,EAAa,EAAG,SAAU,QAAQ,CAAE,CAC/D,CC7DA,MAAMC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAe,SAAS,cAAc,eAAe,EACrDrB,EAAa,SAAS,cAAc,cAAc,EAExD,IAAIsB,EAAc,EACdC,EAAe,GAEnB,eAAeC,EAAWD,EAAcD,EAAa,CACjD,MAAMG,EAAM,MAAM/B,EAAa6B,EAAcD,CAAW,EACxDlB,EAAcqB,EAAI,KAAK,IAAI,EAEvBA,EAAI,KAAK,MAAQH,EAAc7B,GAC/BuB,IAGJD,GACJ,CAEAM,EAAa,iBAAiB,QAAS,SAAY,CAC/CP,IAEAD,IAEAU,EADUH,EAAY,MAAM,KAAM,EAAC,QAAQ,IAAK,GAAG,EAEnDE,EAAc,EAEd,MAAME,EAAWD,EAAcD,CAAW,EAC1CJ,GACJ,CAAC,EAEDlB,EAAW,iBAAiB,QAAS,SAAY,CAC7CiB,IACAH,IAEAQ,IAEA,MAAME,EAAWD,EAAcD,CAAW,EAC1CJ,GACJ,CAAC"}